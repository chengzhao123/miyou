{"version":3,"sources":["webpack:///./src/views/fourth/childComp/mibaoSet.vue?d890","webpack:///src/views/fourth/childComp/mibaoSet.vue","webpack:///./src/views/fourth/childComp/mibaoSet.vue?d75a","webpack:///./src/views/fourth/childComp/mibaoSet.vue","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","question","trim","expression","answer","on","handleSubmit","_v","staticRenderFns","name","data","computed","methods","mounted","userInfo","component","userReg","post","userLogin","userUpdate","userForget","userChangePwd","userMibaoSet","userForgetTel","userForgetAnswer"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACE,MAAM,CAAC,YAAa,EAAK,KAAO,wDAAwD,YAAY,cAAcF,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,UAAY,KAAK,OAAS,GAAG,UAAY,GAAG,YAAc,UAAU,MAAQ,MAAMC,MAAM,CAACC,MAAOR,EAAY,SAAES,SAAS,SAAUC,GAAMV,EAAIW,SAAyB,kBAARD,EAAkBA,EAAIE,OAAQF,GAAMG,WAAW,cAAcT,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,UAAY,IAAI,OAAS,GAAG,UAAY,GAAG,YAAc,QAAQ,MAAQ,MAAMC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIc,OAAuB,kBAARJ,EAAkBA,EAAIE,OAAQF,GAAMG,WAAW,YAAYT,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,UAAU,MAAQ,IAAIS,GAAG,CAAC,MAAQf,EAAIgB,eAAe,CAAChB,EAAIiB,GAAG,WAAW,IAAI,IACj2BC,EAAkB,G,wECgBtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLT,SAAU,GACVG,OAAQ,KAGZO,SAAU,OAAZ,OAAY,CAAZ,GACA,8BAEEC,QAAS,OAAX,OAAW,CAAX,GACA,mCADA,CAEI,aAFJ,WAEA,mKACA,WADA,uBAEA,yBAFA,6BAKA,SALA,uBAMA,yBANA,6BASA,6DATA,uBAUA,wCAVA,iCAaA,GACA,mBACA,oBACA,iBAhBA,UAkBA,kBAlBA,QAkBA,EAlBA,OAmBA,GACA,aACA,yBACA,6BAEA,2BAEA,0BA1BA,iDA8BEC,QA3CF,WA4CItB,KAAKU,SAAWV,KAAKuB,SAASb,SAC9BV,KAAKa,OAASb,KAAKuB,SAASV,SC9DgV,I,YCO5WW,EAAY,eACd,EACA1B,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAO,E,iWCfR,SAAeC,EAAtB,kC,8DAAO,WAAuBnB,GAAvB,iGACUoB,eAAK,WAAYpB,GAD3B,mF,wBAIA,SAAeqB,EAAtB,kC,8DAAO,WAAyBrB,GAAzB,iGACUoB,eAAK,aAAcpB,GAD7B,mF,wBAIA,SAAesB,EAAtB,kC,8DAAO,WAA0BtB,GAA1B,iGACUoB,eAAK,cAAepB,GAD9B,mF,wBAIA,SAAeuB,EAAtB,kC,8DAAO,WAA0BvB,GAA1B,iGACUoB,eAAK,cAAepB,GAD9B,mF,wBAIA,SAAewB,EAAtB,kC,8DAAO,WAA6BxB,GAA7B,iGACUoB,eAAK,iBAAkBpB,GADjC,mF,wBAIA,SAAeyB,EAAtB,kC,8DAAO,WAA4BzB,GAA5B,iGACUoB,eAAK,gBAAiBpB,GADhC,mF,wBAIA,SAAe0B,EAAtB,kC,8DAAO,WAA6B1B,GAA7B,iGACUoB,eAAK,iBAAkBpB,GADjC,mF,wBAIA,SAAe2B,EAAtB,kC,8DAAO,WAAgC3B,GAAhC,iGACUoB,eAAK,oBAAqBpB,GADpC,mF","file":"assets/js/chunk-66bc34ef.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-notice-bar',{attrs:{\"scrollable\":true,\"text\":\"设置密保方便自己忘记密码时能够找回,设置密保方便自己忘记密码时能够找回,设置密保方便自己忘记密码时能够找回\",\"left-icon\":\"volume-o\"}}),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"text\",\"maxlength\":\"12\",\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入密保问题\",\"label\":\"问题\"},model:{value:(_vm.question),callback:function ($$v) {_vm.question=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"question\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"maxlength\":\"6\",\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入答案\",\"label\":\"答案\"},model:{value:(_vm.answer),callback:function ($$v) {_vm.answer=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"answer\"}}),_c('van-button',{attrs:{\"color\":\"#00887a\",\"block\":\"\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确定提交\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 通知栏 -->\r\n    <van-notice-bar :scrollable=\"true\" text=\"设置密保方便自己忘记密码时能够找回,设置密保方便自己忘记密码时能够找回,设置密保方便自己忘记密码时能够找回\" left-icon=\"volume-o\" />\r\n    <!-- 正文 -->\r\n    <van-cell-group>\r\n      <van-field v-model.trim=\"question\" type=\"text\" maxlength=\"12\" center clearable placeholder=\"请输入密保问题\" label=\"问题\"/>\r\n      <van-field v-model.trim=\"answer\" type=\"text\" maxlength=\"6\" center clearable placeholder=\"请输入答案\" label=\"答案\"/>\r\n      <van-button color=\"#00887a\" block @click=\"handleSubmit\">确定提交</van-button>\r\n    </van-cell-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\nimport {mapState, mapMutations} from 'vuex';\r\nimport { userMibaoSet } from '@/api/user'\r\nexport default {\r\n  name: \"userinfo\",\r\n  data() {\r\n    return {\r\n      question: '',\r\n      answer: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['userInfo'])\r\n  },\r\n  methods: {\r\n    ...mapMutations(['updateUserInfo']),\r\n     async handleSubmit() {\r\n      if (!this.question) {\r\n        Toast(\"问题不能为空\");\r\n        return;\r\n      }\r\n      if (!this.answer) {\r\n        Toast(\"答案不能为空\");\r\n        return;\r\n      }\r\n      if(this.question == this.userInfo.question && this.answer == this.userInfo.answer) {\r\n        Toast(\"新问题和新答案不能同时和原问题和原答案相同\");\r\n        return;\r\n      }\r\n      let model = {\r\n          tel: this.userInfo.tel,\r\n          question: this.question,\r\n          answer: this.answer\r\n      }\r\n      let res = await userMibaoSet(model);\r\n      if (res) {\r\n        if (res.type === 1) {//修改成功\r\n          this.updateUserInfo(res.data)\r\n          this.$router.push('/password')\r\n        }\r\n        Toast(res.message);\r\n      } else {\r\n        Toast(\"似乎出现了错误\");\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.question = this.userInfo.question;\r\n    this.answer = this.userInfo.answer;\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mibaoSet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mibaoSet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mibaoSet.vue?vue&type=template&id=1e2b68f1&scoped=true&\"\nimport script from \"./mibaoSet.vue?vue&type=script&lang=js&\"\nexport * from \"./mibaoSet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e2b68f1\",\n  null\n  \n)\n\nexport default component.exports","import {get, post} from '@/utils/request'\r\n\r\n// 注册账号\r\nexport async function userReg(model) {\r\n    return await post('user/reg', model)\r\n}\r\n// 登录账号\r\nexport async function userLogin(model) {\r\n    return await post('user/login', model)\r\n}\r\n// 用户更新个人资料\r\nexport async function userUpdate(model) {\r\n    return await post('user/update', model)\r\n}\r\n// 用户忘记密码\r\nexport async function userForget(model) {\r\n    return await post('user/forget', model)\r\n}\r\n// 用户修改密码\r\nexport async function userChangePwd(model) {\r\n    return await post('user/changePwd', model)\r\n}\r\n// 用户修改密保\r\nexport async function userMibaoSet(model) {\r\n    return await post('user/mibaoSet', model)\r\n}\r\n// 判断用户注册没有\r\nexport async function userForgetTel(model) {\r\n    return await post('user/forgetTel', model)\r\n}\r\n// 判断用户输入的密保答案是否正确\r\nexport async function userForgetAnswer(model) {\r\n    return await post('user/forgetAnswer', model)\r\n}"],"sourceRoot":""}
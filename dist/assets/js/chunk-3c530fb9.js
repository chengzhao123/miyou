(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c530fb9"],{"2abe":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e._m(0),r("div",{staticClass:"centerbox"},[e.chooseTel?r("van-field",{attrs:{error:e.usertel,type:"number",maxlength:"11",center:"",clearable:"",placeholder:"请输入手机号",label:"手机号"},model:{value:e.forModel.tel,callback:function(t){e.$set(e.forModel,"tel","string"===typeof t?t.trim():t)},expression:"forModel.tel"}}):e._e(),e.login?r("van-field",{attrs:{readonly:"",type:"number",center:"",clearable:"",label:"手机号"},model:{value:e.forModel.tel,callback:function(t){e.$set(e.forModel,"tel","string"===typeof t?t.trim():t)},expression:"forModel.tel"}}):e._e(),e.login?r("van-field",{attrs:{type:"password",maxlength:"6",center:"",clearable:"",placeholder:"请输入新密码",label:"新密码"},model:{value:e.forModel.password,callback:function(t){e.$set(e.forModel,"password","string"===typeof t?t.trim():t)},expression:"forModel.password"}}):e._e(),e.login?r("van-field",{attrs:{type:"password",maxlength:"6",center:"",clearable:"",placeholder:"请再次输入新密码",label:"新密码"},model:{value:e.forModel.rpassword,callback:function(t){e.$set(e.forModel,"rpassword","string"===typeof t?t.trim():t)},expression:"forModel.rpassword"}}):e._e(),e.show?r("van-field",{attrs:{readonly:"",center:"",label:"密保问题"},model:{value:e.question,callback:function(t){e.question="string"===typeof t?t.trim():t},expression:"question"}}):e._e(),e.show?r("van-field",{attrs:{maxlength:"6",center:"",clearable:"",label:"密保答案",placeholder:"请输入答案"},model:{value:e.answer,callback:function(t){e.answer="string"===typeof t?t.trim():t},expression:"answer"}}):e._e(),r("div",{staticClass:"btnStyle"},[e.chooseTel?r("van-button",{attrs:{round:"",block:"",size:"small",color:"#00887a",loading:e.loading,"loading-text":"等待中..."},on:{click:e.first}},[e._v("下一步")]):e._e(),e.show?r("van-button",{attrs:{round:"",block:"",size:"small",color:"#00887a",loading:e.loading,"loading-text":"等待中..."},on:{click:e.second}},[e._v("下一步")]):e._e(),e.login?r("van-button",{attrs:{round:"",block:"",size:"small",color:"#00887a",loading:e.loading,"loading-text":"等待中..."},on:{click:e.last}},[e._v("确定")]):e._e()],1),r("div",{staticClass:"pwdreg"},[r("span",{on:{click:e.goback}},[e._v("返回登录界面")])])],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toptip"},[r("span",[e._v("忘记密码")])])}],o=(r("96cf"),r("1da1")),s=r("7b0a"),c=r("d399"),u=r("c24f"),i={name:"forgetpwd",data:function(){return{usertel:!1,loading:!1,chooseTel:!0,show:!1,login:!1,question:"",answer:"",forModel:{tel:"",password:"",rpassword:"",smscode:""}}},watch:{tel:function(e){11===e.length?Object(s["a"])(e)?this.usertel=!1:(this.usertel=!0,Object(c["a"])("手机号格式错误")):this.usertel=!1}},methods:{goback:function(){this.$router.push("/login")},first:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.forModel.tel),e.forModel.tel){t.next=4;break}return Object(c["a"])("手机号不能为空"),t.abrupt("return");case 4:if(Object(s["a"])(e.forModel.tel)){t.next=7;break}return Object(c["a"])("手机号格式有误"),t.abrupt("return");case 7:return e.loading=!0,r={tel:e.forModel.tel},t.next=11,Object(u["d"])(r);case 11:n=t.sent,n?1===n.type?setTimeout((function(){e.loading=!1,e.show=!0,e.chooseTel=!1,e.login=!1,e.question=n.data.question}),2e3):3===n.type&&(e.loading=!1,Object(c["a"])(n.message)):(Object(c["a"])("似乎出现了错误"),e.loading=!1);case 13:case"end":return t.stop()}}),t)})))()},second:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.answer){t.next=3;break}return Object(c["a"])("密保答案不能为空"),t.abrupt("return");case 3:return r={tel:e.forModel.tel,answer:e.answer},e.loading=!0,t.next=7,Object(u["c"])(r);case 7:n=t.sent,n?1===n.type?setTimeout((function(){e.loading=!1,e.show=!1,e.chooseTel=!1,e.login=!0}),2e3):3===n.type&&(e.loading=!1,Object(c["a"])(n.message)):(Object(c["a"])("似乎出现了错误"),e.loading=!1);case 9:case"end":return t.stop()}}),t)})))()},last:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.forModel.password){t.next=3;break}return Object(c["a"])("新密码不能为空"),t.abrupt("return");case 3:if(e.forModel.password===e.forModel.rpassword){t.next=6;break}return Object(c["a"])("两次密码不一致"),t.abrupt("return");case 6:return e.loading=!0,t.next=9,Object(u["b"])(e.forModel);case 9:r=t.sent,r?(1===r.type?setTimeout((function(){e.loading=!1,e.$router.push("/login"),e.chooseTel=!0,e.show=!1,e.login=!1}),2e3):3===r.type&&(e.loading=!1),Object(c["a"])(r.message)):(Object(c["a"])("似乎出现了错误"),e.loading=!1),e.forModel.tel="",e.forModel.password="",e.forModel.rpassword="";case 14:case"end":return t.stop()}}),t)})))()}}},l=i,p=(r("feb1"),r("2877")),d=Object(p["a"])(l,n,a,!1,null,"59b1be32",null);t["default"]=d.exports},"7b0a":function(e,t,r){"use strict";function n(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return t.test(e)}r.d(t,"a",(function(){return n}))},c24f:function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"h",(function(){return i})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return g})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return v}));r("96cf");var n=r("1da1"),a=r("b775");function o(e){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/reg",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forget",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/changePwd",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/mibaoSet",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function w(e){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forgetTel",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forgetAnswer",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}},d131:function(e,t,r){},feb1:function(e,t,r){"use strict";var n=r("d131"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-3c530fb9.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03f686f8"],{2917:function(e,t,n){"use strict";var r=n("607f"),a=n.n(r);a.a},"607f":function(e,t,n){},"7b0a":function(e,t,n){"use strict";function r(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return t.test(e)}n.d(t,"a",(function(){return r}))},c24f:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return x}));n("96cf");var r=n("1da1"),a=n("b775");function u(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/reg",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forget",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function d(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/changePwd",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/mibaoSet",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function w(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forgetTel",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("user/forgetAnswer",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},dc3f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"centerbox"},[n("van-cell-group",[n("van-field",{attrs:{error:e.usertel,type:"number",maxlength:"11",center:"",clearable:"",placeholder:"请输入手机号",label:"手机号"},model:{value:e.loginModel.tel,callback:function(t){e.$set(e.loginModel,"tel",t)},expression:"loginModel.tel"}}),n("van-field",{attrs:{type:"password",maxlength:"6",center:"",clearable:"",placeholder:"请输入密码",label:"密码"},model:{value:e.loginModel.password,callback:function(t){e.$set(e.loginModel,"password",t)},expression:"loginModel.password"}})],1),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info",loading:e.loading,"loading-text":"登录中..."},on:{click:e.login}},[e._v("登录")])],1),n("div",{staticClass:"pwdreg"},[n("span",{on:{click:e.gopwd}},[e._v("忘记密码")]),n("span",[e._v("|")]),n("span",{on:{click:e.goreg}},[e._v("前往注册")])])],1),n("div",{staticClass:"foottip"},[n("span",[e._v("登录代表您已同意")]),n("span",{staticClass:"xieyi",on:{click:e.goxieyi}},[e._v("用户协议和隐私协议")])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toptip"},[n("span",[e._v("欢迎登录")])])}],u=(n("96cf"),n("1da1")),i=n("5530"),c=n("7b0a"),s=n("d399"),o=n("c24f"),l=n("2f62"),p={name:"login",data:function(){return{loading:!1,loginModel:{tel:"",password:""},usertel:!1}},watch:{tel:function(e){11===e.length?Object(c["a"])(e)?this.usertel=!1:(this.usertel=!0,Object(s["a"])("手机号格式错误")):this.usertel=!1}},methods:Object(i["a"])({},Object(l["b"])(["loginin"]),{login:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loginModel.tel){t.next=3;break}return Object(s["a"])("手机号不能为空"),t.abrupt("return");case 3:if(Object(c["a"])(e.loginModel.tel)){t.next=6;break}return Object(s["a"])("手机号格式错误"),t.abrupt("return");case 6:if(e.loginModel.password){t.next=9;break}return Object(s["a"])("密码不能为空"),t.abrupt("return");case 9:return e.loading=!0,t.next=12,Object(o["e"])(e.loginModel);case 12:if(n=t.sent,!n){t.next=25;break}if(1!==n.type){t.next=21;break}return t.next=17,e.loginin(n.data);case 17:setTimeout((function(){e.loading=!1,e.$router.push("/chat")}),1e3),e.$socket.emit("login",n.data),t.next=22;break;case 21:(2===n.type||3===n.type||0===n.type)&&(e.loading=!1);case 22:Object(s["a"])(n.message),t.next=27;break;case 25:Object(s["a"])("似乎出现了错误"),e.loading=!1;case 27:e.loginModel.tel="",e.loginModel.password="";case 29:case"end":return t.stop()}}),t)})))()},gopwd:function(){this.$router.push("/forgetpwd")},goreg:function(){this.$router.push("/register")},goxieyi:function(){this.$router.push("/xieyi")}})},f=p,d=(n("2917"),n("2877")),g=Object(d["a"])(f,r,a,!1,null,"16b668d2",null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-03f686f8.js.map
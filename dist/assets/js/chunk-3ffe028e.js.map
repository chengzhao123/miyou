{"version":3,"sources":["webpack:///./src/assets/fourth/womanf.png","webpack:///./src/api/lianxiren.js","webpack:///./src/assets/fourth/manf.png","webpack:///./src/views/second/childComp/getFriend.vue?79a0","webpack:///./src/assets/fourth/womans.png","webpack:///./src/views/second/childComp/getFriend.vue?7b70","webpack:///src/views/second/childComp/getFriend.vue","webpack:///./src/views/second/childComp/getFriend.vue?bd25","webpack:///./src/views/second/childComp/getFriend.vue","webpack:///./src/assets/fourth/mans.png"],"names":["module","exports","friendAllSearch","model","post","friendAdd","friendAgree","friendReject","render","_vm","this","_h","$createElement","_c","_self","_l","userInfo","item","index","key","slot","staticClass","attrs","imgbox","headimg","src","_v","_s","name","tel","status","on","$event","handelAgree","_e","handelReject","getFriend","length","clear","staticRenderFns","data","list","computed","mounted","changMsg","localStorage","setItem","methods","updateUserInfo","$socket","emit","component"],"mappings":"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","file":"assets/js/chunk-3ffe028e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"assets/img/womanf.png\";","import {get, post} from '@/utils/request'\r\n\r\n// 查询所有用户\r\nexport async function friendAllSearch(model) {\r\n    return await post('friend/all/search', model)\r\n}\r\n// 添加查询到的用户\r\nexport async function friendAdd(model) {\r\n    return await post('friend/add', model)\r\n}\r\n// 同意好友\r\nexport async function friendAgree(model) {\r\n    return await post('friend/agree', model)\r\n}\r\n// 拒绝好友\r\nexport async function friendReject(model) {\r\n    return await post('friend/reject', model)\r\n}","module.exports = __webpack_public_path__ + \"assets/img/manf.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getFriend.vue?vue&type=style&index=0&id=739dfc0d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getFriend.vue?vue&type=style&index=0&id=739dfc0d&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"assets/img/womans.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-cell-group',[_vm._l((_vm.userInfo.getFriend),function(item,index){return _c('van-cell',{key:index},[_c('template',{slot:\"title\"},[_c('img',{staticClass:\"imgbg\",attrs:{\"src\":_vm.imgbox[item.headimg].src}}),_c('div',{staticClass:\"imgcot\"},[_c('div',[_vm._v(_vm._s(item.name))]),_c('div',[_vm._v(\"(\"+_vm._s(item.tel)+\")\")])])]),_c('template',{slot:\"default\"},[(item.status === 1)?_c('span',{staticClass:\"custom-title left mid\"},[_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handelAgree(item)}}},[_vm._v(\"同意\")])],1):_vm._e(),(item.status === 2)?_c('span',{staticClass:\"custom-title left mid\"},[_vm._v(\"已同意\")]):_vm._e(),(item.status === 3)?_c('span',{staticClass:\"custom-title left mid\"},[_vm._v(\"已拒绝\")]):_vm._e(),(item.status === 1)?_c('span',{staticClass:\"custom-title right mid\"},[_c('van-button',{attrs:{\"round\":\"\",\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handelReject(item)}}},[_vm._v(\"拒绝\")])],1):_vm._e()])],2)}),(_vm.userInfo.getFriend && _vm.userInfo.getFriend.length > 0)?_c('div',{staticClass:\"clearHis\",on:{\"click\":_vm.clear}},[_vm._v(\"清空历史记录\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-cell-group>\r\n      <van-cell v-for=\"(item, index) in userInfo.getFriend\" :key=\"index\">\r\n        <template slot=\"title\">\r\n          <img :src=\"imgbox[item.headimg].src\" class=\"imgbg\" />\r\n            <div class=\"imgcot\">\r\n              <div>{{item.name}}</div>\r\n              <div>({{item.tel}})</div>\r\n            </div>\r\n        </template>\r\n        <template slot=\"default\">\r\n          <span class=\"custom-title left mid\" v-if=\"item.status === 1\">\r\n            <van-button round type=\"info\" size=\"mini\" @click=\"handelAgree(item)\">同意</van-button>\r\n          </span>\r\n          <span class=\"custom-title left mid\" v-if=\"item.status === 2\">已同意</span>\r\n          <span class=\"custom-title left mid\" v-if=\"item.status === 3\">已拒绝</span>\r\n          <span class=\"custom-title right mid\" v-if=\"item.status === 1\">\r\n            <van-button round type=\"warning\" size=\"mini\" @click=\"handelReject(item)\">拒绝</van-button>\r\n          </span>\r\n        </template>\r\n      </van-cell>\r\n      <div v-if=\"userInfo.getFriend && userInfo.getFriend.length > 0\" class=\"clearHis\" @click=\"clear\">清空历史记录</div>\r\n    </van-cell-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { friendAgree, friendReject } from \"@/api/lianxiren\";\r\nimport { Toast } from \"vant\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"getFriend\",\r\n  data() {\r\n    return {\r\n      list: [],\r\n      imgbox: [\r\n        { id: 0, src: require(\"../../../assets/fourth/manf.png\") },\r\n        { id: 1, src: require(\"../../../assets/fourth/womanf.png\") },\r\n        { id: 2, src: require(\"../../../assets/fourth/mans.png\") },\r\n        { id: 3, src: require(\"../../../assets/fourth/womans.png\") }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"])\r\n  },\r\n  mounted() {\r\n    this.changMsg(false)\r\n    localStorage.setItem('newFir', false)\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"updateUserInfo\", \"changMsg\"]),\r\n    clear() {\r\n      this.userInfo.getFriend = []\r\n      this.updateUserInfo(this.userInfo)\r\n      this.$socket.emit('clearGetFir',this.userInfo.tel)\r\n    },\r\n    async handelAgree(item) {\r\n      let model ={\r\n        tel: this.userInfo.tel, //自己电话\r\n        histel: item.tel, //对方的电话\r\n        hisheadimg: item.headimg, //对方的头像\r\n        headimg: this.userInfo.headimg, //自己的头像\r\n        name: this.userInfo.name,\r\n        hisname: item.name,\r\n        datamine:JSON.stringify(this.userInfo)\r\n      }\r\n      let res = await friendAgree(model)\r\n      if(res) {\r\n        if(res.type === 0) {\r\n          Toast('出错')\r\n        } else if(res.type === 2) {\r\n          Toast('添加成功')\r\n          this.updateUserInfo(res.data)\r\n          this.$socket.emit('agreeFir',model)\r\n          console.log(res.data)\r\n        }\r\n      } else {\r\n        Toast('出错')\r\n      }\r\n     \r\n    },\r\n    async handelReject(item) {\r\n      let model ={\r\n        tel: this.userInfo.tel, //自己电话\r\n        histel: item.tel, //对方的电话\r\n        hisheadimg: item.headimg, //对方的头像\r\n        headimg: this.userInfo.headimg, //自己的头像\r\n        name: this.userInfo.name,\r\n        hisname: item.name,\r\n        datamine:JSON.stringify(this.userInfo)\r\n      }\r\n      let res = await friendReject(model)\r\n      if(res) {\r\n        if(res.type === 0) {\r\n          Toast('出错')\r\n        } else if(res.type === 2) {\r\n          Toast('成功')\r\n          this.updateUserInfo(res.data)\r\n          this.$socket.emit('agreeFir',model)\r\n        }\r\n      } else {\r\n        Toast('出错')\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.left {\r\n  margin-right: 5px;\r\n}\r\n.right {\r\n  margin-left: 5px;\r\n}\r\n.imgbg {\r\n  width:40px;\r\n  height:40px;\r\n  float: left;\r\n}\r\n.imgcot {\r\n  float: right;\r\n  margin-top: -4px;\r\n}\r\n.mid {\r\n  line-height: 44px;\r\n}\r\n.clearHis {\r\n  height:30px;\r\n  font-size: 14px;\r\n  color: lightgray;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getFriend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getFriend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./getFriend.vue?vue&type=template&id=739dfc0d&scoped=true&\"\nimport script from \"./getFriend.vue?vue&type=script&lang=js&\"\nexport * from \"./getFriend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./getFriend.vue?vue&type=style&index=0&id=739dfc0d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"739dfc0d\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"assets/img/mans.png\";"],"sourceRoot":""}
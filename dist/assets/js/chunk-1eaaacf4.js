(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eaaacf4"],{"155b":function(e,t,n){e.exports=n.p+"assets/img/womanf.png"},"1d7b":function(e,t,n){"use strict";var r=n("c219"),a=n.n(r);a.a},"3e3e":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return d}));n("96cf");var r=n("1da1"),a=n("b775");function s(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("friend/all/search",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("friend/add",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("friend/agree",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("friend/reject",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},"54a1":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("van-loading",{staticClass:"loading",attrs:{type:"spinner",color:"#1989fa"}}):e._e()],1)},a=[],s={name:"loading",props:{loading:{type:Boolean,default:function(){return!1}}}},i=s,c=(n("1d7b"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"3c7e2b86",null);t["a"]=u.exports},"6c1e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"box"},[n("div",{staticClass:"box_top"},[n("van-search",{staticClass:"search_box",attrs:{placeholder:"请输入手机号",type:"number",autofocus:"",maxlength:"11",shape:"round"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("van-button",{staticClass:"search_btn",attrs:{round:"",type:"primary",size:"small",disabled:e.loading},on:{click:e.searchbtn}},[e._v("搜索")])],1),n("div",{staticClass:"history"},[e.userInfo.sendFriend&&e.userInfo.sendFriend.length>0?n("van-cell-group",e._l(e.userInfo.sendFriend,(function(t,r){return n("van-cell",{key:r},[n("template",{slot:"title"},[n("img",{staticClass:"imgbg",attrs:{src:e.imgbox[t.headimg].src}}),n("div",{staticClass:"imgcot"},[n("div",[e._v(e._s(t.name))]),n("div",[e._v("("+e._s(t.tel)+")")])])]),n("template",{slot:"default"},[1===t.status?n("span",{staticClass:"custom-title left mid"},[e._v("已申请")]):2===t.status?n("span",{staticClass:"custom-title left mid"},[e._v("已同意")]):3===t.status?n("span",{staticClass:"custom-title left mid"},[e._v("已拒绝")]):e._e()])],2)})),1):e._e(),e.userInfo.sendFriend&&e.userInfo.sendFriend.length>0?n("div",{staticClass:"clearHis",on:{click:e.clear}},[e._v("清空历史记录")]):e._e()],1),n("div",{staticClass:"box_mid"},[n("div",{attrs:{slot:"content"},slot:"content"},[e.list&&e.list.length>0?n("van-cell-group",e._l(e.list,(function(t,r){return n("van-cell",{key:r},[n("template",{slot:"title"},[n("img",{staticClass:"imgbg",attrs:{src:e.imgbox[t.headimg].src}}),n("div",{staticClass:"imgcot"},[n("div",[e._v(e._s(t.name))]),n("div",[e._v("("+e._s(t.tel)+")")])])]),n("template",{slot:"default"},[t.tel!=e.userInfo.tel?n("span",{staticClass:"custom-title left mid"},[n("van-button",{attrs:{round:"",type:"info",size:"mini"},on:{click:function(n){return e.handelAgree(t)}}},[e._v("添加")])],1):e._e()])],2)})),1):e._e()],1)]),n("load",{attrs:{loading:e.loading}})],1)])},a=[],s=(n("b0c0"),n("96cf"),n("1da1")),i=n("5530"),c=n("54a1"),u=n("7b0a"),o=n("d399"),l=n("3e3e"),d=n("2f62"),f={name:"sousuo",components:{load:c["a"]},data:function(){return{keyword:"",loading:!1,list:[],imgbox:[{id:0,src:n("7f56")},{id:1,src:n("155b")},{id:2,src:n("dafb")},{id:3,src:n("9071")}]}},computed:Object(i["a"])({},Object(d["c"])(["userInfo"])),methods:Object(i["a"])({},Object(d["b"])(["updateUserInfo"]),{clear:function(){this.userInfo.sendFriend=[],this.updateUserInfo(this.userInfo),this.$socket.emit("clearSendFir",this.userInfo.tel)},searchbtn:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object(u["a"])(e.keyword)){t.next=10;break}return e.loading=!0,n={tel:e.keyword},t.next=5,Object(l["c"])(n);case 5:r=t.sent,e.list=[],r?0===r.type?Object(o["a"])("查询出错"):1===r.type?e.list.push(r.data):3===r.type&&Object(o["a"])("该手机号未注册"):Object(o["a"])("查询出错"),t.next=11;break;case 10:Object(o["a"])("请输入正确的手机号码");case 11:setTimeout((function(){e.loading=!1}),500),e.keyword="";case 13:case"end":return t.stop()}}),t)})))()},handelAgree:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={tel:t.userInfo.tel,histel:e.tel,hisheadimg:e.headimg,headimg:t.userInfo.headimg,name:t.userInfo.name,hisname:e.name,datamine:JSON.stringify(t.userInfo)},n.next=3,Object(l["a"])(r);case 3:a=n.sent,a?0===a.type?Object(o["a"])("出错"):1===a.type?Object(o["a"])("你已经发送了申请了"):2===a.type?(Object(o["a"])("发送成功"),t.updateUserInfo(a.data),t.$socket.emit("addFriend",r)):3===a.type&&Object(o["a"])("你们已经是好友"):Object(o["a"])("出错"),t.list=[];case 6:case"end":return n.stop()}}),n)})))()}})},p=f,m=(n("d748"),n("2877")),b=Object(m["a"])(p,r,a,!1,null,"4efa7e18",null);t["default"]=b.exports},"7b0a":function(e,t,n){"use strict";function r(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return t.test(e)}n.d(t,"a",(function(){return r}))},"7f56":function(e,t,n){e.exports=n.p+"assets/img/manf.png"},9071:function(e,t,n){e.exports=n.p+"assets/img/womans.png"},c219:function(e,t,n){},d748:function(e,t,n){"use strict";var r=n("dfff"),a=n.n(r);a.a},dafb:function(e,t,n){e.exports=n.p+"assets/img/mans.png"},dfff:function(e,t,n){}}]);
//# sourceMappingURL=chunk-1eaaacf4.js.map